import{b as Le,u as Be,_ as Qe,a as Ze}from"./list-5e8cf700.js";import{_ as Re}from"./call-outline-rounded-3b1ba7b9.js";import{_ as ze}from"./FieldId-d1ec1c14.js";import{_ as Ke}from"./Multiselect-6b10a69c.js";import{_ as Oe}from"./Dropdown.vuevuetypescriptsetuptruelang-19bba1a4.js";import{_ as je}from"./Breadcrumb-754c867d.js";import{o as s,c as a,b as e,d as de,r as M,a0 as ye,a1 as ne,C as ge,Q as ee,v as K,J as v,N as ke,L as Ce,g as p,K as g,f as n,a2 as Ee,A as we,u as qe,U as ae,a3 as pe,a4 as me,k as q,e as k,F as b,y as h,x as G,a5 as H,a6 as Ge,a7 as He,p as Pe,s as Je,a as Xe,n as Ye,B as We,a8 as xe,D as et,t as _e,a9 as tt,i as ot,aa as st,G as lt,H as nt,I as at,V as dt,w as P,M as ve,ab as ut,j as ct,O as it,P as rt,z as be,R as he,ac as fe,X as le,Y as pt}from"./index-79f9263f.js";import{n as mt}from"./list-6498ebd9.js";import{_ as _t}from"./DeleteConfirm.vuevuetypescriptsetuptruelang-7b95bd7d.js";import{_ as Te}from"./VModal.vuevuetypescriptsetuptruelang-3158168b.js";import{u as Ve,a as Ne}from"./vee-validate.esm-496cb60b.js";import{u as vt,a as bt,b as ht}from"./tags-1ae8d7cb.js";import{b as ft,a as $t}from"./search-52423e6c.js";import"./baseIndexOf-70b929c6.js";const yt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},gt=e("path",{fill:"currentColor",d:"M7 21q-.825 0-1.413-.588T5 19V6q-.425 0-.713-.288T4 5q0-.425.288-.713T5 4h4q0-.425.288-.713T10 3h4q.425 0 .713.288T15 4h4q.425 0 .713.288T20 5q0 .425-.288.713T19 6v13q0 .825-.588 1.413T17 21H7ZM7 6v13h10V6H7Zm2 10q0 .425.288.713T10 17q.425 0 .713-.288T11 16V9q0-.425-.288-.713T10 8q-.425 0-.713.288T9 9v7Zm4 0q0 .425.288.713T14 17q.425 0 .713-.288T15 16V9q0-.425-.288-.713T14 8q-.425 0-.713.288T13 9v7ZM7 6v13V6Z"},null,-1),kt=[gt];function Ct(T,f){return s(),a("svg",yt,kt)}const wt={name:"material-symbols-delete-outline-rounded",render:Ct},qt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Tt=e("path",{fill:"currentColor",d:"M6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 7.825L8.1 11.7q-.275.275-.688.288T6.7 11.7Zm0 6q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212t.375-.063q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 13.825L8.1 17.7q-.275.275-.688.288T6.7 17.7Z"},null,-1),Vt=[Tt];function Nt(T,f){return s(),a("svg",qt,Vt)}const Ut={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Nt},Mt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},At=e("path",{fill:"currentColor",d:"M12 12.575q-.2 0-.375-.062T11.3 12.3L6.7 7.7q-.275-.275-.288-.688T6.7 6.3q.275-.275.7-.275t.7.275l3.9 3.875L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Zm0 6q-.2 0-.375-.062T11.3 18.3l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275l3.9 3.875l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Z"},null,-1),St=[At];function Ft(T,f){return s(),a("svg",Mt,St)}const It={name:"material-symbols-keyboard-double-arrow-down-rounded",render:Ft};function E(T){return Array.from({length:T},(f,D)=>D+1).concat(-1)}const J={phoneNumberTypes:E(20),emailTypes:E(4),addressTypes:E(3),eventTypes:E(3),imTypes:E(8),websiteTypes:E(7)},Dt=de({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(T){const f=T,{handleSubmit:D}=Ve(),u=M(),{value:$,resetField:C,errorMessage:V}=Ne("inputValue",ye().required()),L=D(()=>{f.do($.value??""),ne()});return $.value=f.value,f.value||C(),(async()=>{var N;await ge(),(N=u.value)==null||N.focus()})(),(N,y)=>{const S=Te;return s(),ee(S,{title:T.title},{body:K(()=>[v(e("input",{ref_key:"inputRef",ref:u,type:"text",class:"form-control","onUpdate:modelValue":y[0]||(y[0]=w=>ke($)?$.value=w:null),onKeyup:y[1]||(y[1]=Ce((...w)=>p(L)&&p(L)(...w),["enter"]))},null,544),[[g,p($)]]),v(e("div",{class:"invalid-feedback"},n(p(V)?N.$t(p(V)):""),513),[[Ee,p(V)]])]),action:K(()=>[e("button",{type:"button",class:"btn",onClick:y[2]||(y[2]=(...w)=>p(L)&&p(L)(...w))},n(N.$t("ok")),1)]),_:1},8,["title"])}}}),Lt={class:"row mb-3"},Bt={class:"col-md-3 col-form-label"},Qt={class:"col-md-3"},Zt=["placeholder"],Rt={key:0,class:"col-md-3"},zt=["placeholder"],Kt={class:"col-md-3"},Ot=["placeholder"],jt={key:1,class:"col-md-3"},Et={key:0,class:"row mb-3"},Gt={class:"offset-3 col-md-3"},Ht=["placeholder"],Pt={class:"col-md-3"},Jt=["placeholder"],Xt={class:"col-md-3"},Yt={key:0,class:"col-md-3 col-form-label"},Wt=["onUpdate:modelValue","onChange"],xt=["value"],eo={class:"col-md-4"},to=["placeholder","onUpdate:modelValue"],oo={key:1,class:"col-md-2"},so=["onClick"],lo={key:0,class:"col-md-3 col-form-label"},no=["onUpdate:modelValue","onChange"],ao=["value"],uo={class:"col-md-4"},co=["placeholder","onUpdate:modelValue"],io={class:"col-md-2"},ro=["onClick"],po={key:0,class:"col-md-3 col-form-label"},mo=["onUpdate:modelValue","onChange"],_o=["value"],vo={class:"col-md-4"},bo=["placeholder","onUpdate:modelValue"],ho={class:"col-md-2"},fo=["onClick"],$o={key:0,class:"col-md-3 col-form-label"},yo=["onUpdate:modelValue","onChange"],go=["value"],ko={class:"col-md-4"},Co=["placeholder","onUpdate:modelValue"],wo={class:"col-md-2"},qo=["onClick"],To={key:0,class:"col-md-3 col-form-label"},Vo=["onUpdate:modelValue","onChange"],No=["value"],Uo={class:"col-md-4"},Mo=["placeholder","onUpdate:modelValue"],Ao={class:"col-md-2"},So=["onClick"],Fo={class:"row mb-3"},Io={class:"col-md-3 col-form-label"},Do={class:"col-md-8"},Lo={class:"row mb-3"},Bo={class:"offset-3 col-md-3"},Qo={type:"button",class:"btn"},Zo={class:"menu-items"},Ro=["disabled"],$e=de({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(T){const f=T,{handleSubmit:D}=Ve(),u=we({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),$=M(!1),{t:C}=qe(),{mutate:V,loading:L,onDone:N}=ae({document:pe`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${me}
  `,options:{update:()=>{f.done()}},appApi:!0}),{mutate:y,loading:S,onDone:w}=ae({document:pe`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${me}
  `,options:{update:()=>{f.done()}},appApi:!0}),{value:X,resetField:F,errorMessage:te}=Ne("inputValue",ye().test("required",t=>"valid.required",t=>!0).test("target-value",t=>"invalid_value",t=>!0)),U=(t,c)=>{t.splice(0,t.length);for(const A of c)t.push({label:A.label,value:A.value,type:A.type})};(()=>{const t=f.data;t?(Object.assign(u,{firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,prefix:t.prefix,suffix:t.suffix,notes:t.notes}),U(u.phoneNumbers,t.phoneNumbers),U(u.emails,t.emails),U(u.addresses,t.addresses),U(u.websites,t.websites),U(u.events,t.events),U(u.ims,t.ims)):(Object.assign(u,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),F())})();const B=t=>{t.type===-1&&Ge(Dt,{value:t.label,title:C("custom"),do:c=>{t.label=c}})},Q=(t,c,A)=>c===-1?t.label?t.label:C("custom"):C(`contact.${A}.${c}`),Z=t=>{t.push({type:1,value:"",label:""})},R=(t,c)=>{t.splice(c,1)},O=D(()=>{var t,c;f.data?y({id:f.data.id,input:u}):(u.source=((c=(t=f.sources)==null?void 0:t[0])==null?void 0:c.name)??"",V({input:u}))});return N(()=>{ne()}),w(()=>{ne()}),(t,c)=>{const A=It,j=Ut,I=wt,Y=He,W=Te;return s(),ee(W,{size:"lg",title:T.data?t.$t("edit"):t.$t("create")},{body:K(()=>[e("div",Lt,[e("label",Bt,n(t.$t("name")),1),e("div",Qt,[v(e("input",{type:"text",class:"form-control",placeholder:t.$t("first_name"),"onUpdate:modelValue":c[0]||(c[0]=l=>u.firstName=l)},null,8,Zt),[[g,u.firstName]])]),$.value?(s(),a("div",Rt,[v(e("input",{type:"text",class:"form-control",placeholder:t.$t("middle_name"),"onUpdate:modelValue":c[1]||(c[1]=l=>u.middleName=l)},null,8,zt),[[g,u.middleName]])])):q("",!0),e("div",Kt,[v(e("input",{type:"text",class:"form-control",placeholder:t.$t("last_name"),"onUpdate:modelValue":c[2]||(c[2]=l=>u.lastName=l)},null,8,Ot),[[g,u.lastName]])]),$.value?q("",!0):(s(),a("div",jt,[e("button",{type:"button",class:"btn-icon",onClick:c[3]||(c[3]=l=>$.value=!0)},[k(A,{class:"bi"})])]))]),$.value?(s(),a("div",Et,[e("div",Gt,[v(e("input",{type:"text",class:"form-control",placeholder:t.$t("prefix"),"onUpdate:modelValue":c[4]||(c[4]=l=>u.prefix=l)},null,8,Ht),[[g,u.prefix]])]),e("div",Pt,[v(e("input",{type:"text",class:"form-control",placeholder:t.$t("suffix"),"onUpdate:modelValue":c[5]||(c[5]=l=>u.suffix=l)},null,8,Jt),[[g,u.suffix]])]),e("div",Xt,[e("button",{type:"button",class:"btn-icon",onClick:c[6]||(c[6]=l=>$.value=!1)},[k(j,{class:"bi"})])])])):q("",!0),(s(!0),a(b,null,h(u.phoneNumbers,(l,m)=>(s(),a("div",{class:"row mb-3",key:m},[m===0?(s(),a("label",Yt,n(t.$t("phone_number")),1)):q("",!0),e("div",{class:G(["col-md-3",{"offset-md-3":m>0}])},[v(e("select",{class:"form-select","onUpdate:modelValue":d=>l.type=d,onChange:d=>B(l)},[(s(!0),a(b,null,h(p(J).phoneNumberTypes,d=>(s(),a("option",{key:d,value:d},n(Q(l,d,"phone_number_type")),9,xt))),128))],40,Wt),[[H,l.type,void 0,{number:!0}]])],2),e("div",eo,[v(e("input",{type:"text",class:"form-control",placeholder:t.$t("telephone"),"onUpdate:modelValue":d=>l.value=d},null,8,to),[[g,l.value]])]),u.phoneNumbers.length>1?(s(),a("div",oo,[e("button",{type:"button",class:"btn-icon",onClick:d=>R(u.phoneNumbers,m)},[k(I,{class:"bi"})],8,so)])):q("",!0)]))),128)),(s(!0),a(b,null,h(u.emails,(l,m)=>(s(),a("div",{class:"row mb-3",key:m},[m===0?(s(),a("label",lo,n(t.$t("email")),1)):q("",!0),e("div",{class:G(["col-md-3",{"offset-md-3":m>0}])},[v(e("select",{class:"form-select","onUpdate:modelValue":d=>l.type=d,onChange:d=>B(l)},[(s(!0),a(b,null,h(p(J).emailTypes,d=>(s(),a("option",{key:d,value:d},n(Q(l,d,"email_type")),9,ao))),128))],40,no),[[H,l.type,void 0,{number:!0}]])],2),e("div",uo,[v(e("input",{type:"text",class:"form-control",placeholder:t.$t("email"),"onUpdate:modelValue":d=>l.value=d},null,8,co),[[g,l.value]])]),e("div",io,[e("button",{type:"button",class:"btn-icon",onClick:d=>R(u.emails,m)},[k(I,{class:"bi"})],8,ro)])]))),128)),(s(!0),a(b,null,h(u.addresses,(l,m)=>(s(),a("div",{class:"row mb-3",key:m},[m===0?(s(),a("label",po,n(t.$t("address")),1)):q("",!0),e("div",{class:G(["col-md-3",{"offset-md-3":m>0}])},[v(e("select",{class:"form-select","onUpdate:modelValue":d=>l.type=d,onChange:d=>B(l)},[(s(!0),a(b,null,h(p(J).addressTypes,d=>(s(),a("option",{key:d,value:d},n(Q(l,d,"address_type")),9,_o))),128))],40,mo),[[H,l.type,void 0,{number:!0}]])],2),e("div",vo,[v(e("input",{type:"text",class:"form-control",placeholder:t.$t("address"),"onUpdate:modelValue":d=>l.value=d},null,8,bo),[[g,l.value]])]),e("div",ho,[e("button",{type:"button",class:"btn-icon",onClick:d=>R(u.addresses,m)},[k(I,{class:"bi"})],8,fo)])]))),128)),(s(!0),a(b,null,h(u.websites,(l,m)=>(s(),a("div",{class:"row mb-3",key:m},[m===0?(s(),a("label",$o,n(t.$t("website")),1)):q("",!0),e("div",{class:G(["col-md-3",{"offset-md-3":m>0}])},[v(e("select",{class:"form-select","onUpdate:modelValue":d=>l.type=d,onChange:d=>B(l)},[(s(!0),a(b,null,h(p(J).websiteTypes,d=>(s(),a("option",{key:d,value:d},n(Q(l,d,"website_type")),9,go))),128))],40,yo),[[H,l.type,void 0,{number:!0}]])],2),e("div",ko,[v(e("input",{type:"text",class:"form-control",placeholder:t.$t("website"),"onUpdate:modelValue":d=>l.value=d},null,8,Co),[[g,l.value]])]),e("div",wo,[e("button",{type:"button",class:"btn-icon",onClick:d=>R(u.websites,m)},[k(I,{class:"bi"})],8,qo)])]))),128)),(s(!0),a(b,null,h(u.ims,(l,m)=>(s(),a("div",{class:"row mb-3",key:m},[m===0?(s(),a("label",To,n(t.$t("im")),1)):q("",!0),e("div",{class:G(["col-md-3",{"offset-md-3":m>0}])},[v(e("select",{class:"form-select","onUpdate:modelValue":d=>l.type=d,onChange:d=>B(l)},[(s(!0),a(b,null,h(p(J).imTypes,d=>(s(),a("option",{key:d,value:d},n(Q(l,d,"im_type")),9,No))),128))],40,Vo),[[H,l.type,void 0,{number:!0}]])],2),e("div",Uo,[v(e("input",{type:"text",class:"form-control",placeholder:t.$t("im"),"onUpdate:modelValue":d=>l.value=d},null,8,Mo),[[g,l.value]])]),e("div",Ao,[e("button",{type:"button",class:"btn-icon",onClick:d=>R(u.ims,m)},[k(I,{class:"bi"})],8,So)])]))),128)),e("div",Fo,[e("label",Io,n(t.$t("notes")),1),e("div",Do,[v(e("textarea",{class:"form-control","onUpdate:modelValue":c[7]||(c[7]=l=>u.notes=l),rows:"3"},null,512),[[g,u.notes]])])]),e("div",Lo,[e("div",Bo,[k(Y,null,{content:K(()=>[e("ul",Zo,[e("li",{class:"dropdown-item",onClick:c[8]||(c[8]=()=>Z(u.phoneNumbers))},n(t.$t("phone_number")),1),e("li",{class:"dropdown-item",onClick:c[9]||(c[9]=()=>Z(u.emails))},n(t.$t("email")),1),e("li",{class:"dropdown-item",onClick:c[10]||(c[10]=()=>Z(u.addresses))},n(t.$t("address")),1),e("li",{class:"dropdown-item",onClick:c[11]||(c[11]=()=>Z(u.websites))},n(t.$t("website")),1),e("li",{class:"dropdown-item",onClick:c[12]||(c[12]=()=>Z(u.ims))},n(t.$t("im")),1)])]),default:K(()=>[e("button",Qo,n(t.$t("add_field")),1)]),_:1})])])]),action:K(()=>[e("button",{type:"button",disabled:p(L)||p(S),class:"btn",onClick:c[13]||(c[13]=(...l)=>p(O)&&p(O)(...l))},n(t.$t("save")),9,Ro)]),_:1},8,["title"])}}}),zo={class:"v-toolbar"},Ko={class:"right-actions"},Oo={class:"row mb-3"},jo={class:"col-md-3 col-form-label"},Eo={class:"col-md-9"},Go=["onKeyup"],Ho={class:"row mb-3"},Po={class:"col-md-3 col-form-label"},Jo={class:"col-md-9"},Xo={class:"actions"},Yo=["onClick"],Wo={class:"table"},xo=e("th",null,"ID",-1),es={class:"actions two"},ts=["onClick"],os=["onUpdate:modelValue"],ss=["src"],ls={class:"nowrap"},ns={class:"list-unstyled"},as={key:0,class:"spinner spinner-sm"},ds={class:"list-unstyled"},us={class:"badge"},cs=["title"],is={class:"actions two"},rs=["onClick"],ps=["onClick"],ms={key:0},_s={colspan:"10"},vs={class:"no-data-placeholder"},As=de({__name:"ContactsView",setup(T){var ie,re;const f=Pe(),{app:D}=Je(Xe()),u=M([]),{t:$}=qe(),C=we({text:"",tags:[]}),V="CONTACT",N=Ye().query,y=M(parseInt(((ie=N.page)==null?void 0:ie.toString())??"1")),S=50,w=M(0),X=M([]),F=M(We(((re=N.q)==null?void 0:re.toString())??"")),te=M(""),{tags:U}=vt(V,F,C,async o=>{te.value=ft(o),await ge(),A()}),{addToTags:B}=bt(V,u,U),{removeFromTags:Q}=ht(V,u,U),{deleteItems:Z}=Le(xe,()=>{j()},u),R=[{text:$("add_to_tags"),click:B},{text:$("remove_from_tags"),click:Q},{text:$("delete"),click:Z}],{selectAll:O,toggleSelect:t}=Be(u),{loading:c,load:A,refetch:j}=et({handle:(o,_)=>{_?_e($(_),"error"):o&&(u.value=o.contacts.map(z=>({...z,checked:!1})),w.value=o.contactCount)},document:tt,variables:()=>({offset:(y.value-1)*S,limit:S,query:te.value}),appApi:!0});ot({handle:(o,_)=>{_?_e($(_),"error"):o&&(X.value=o.contactSources)},document:st,variables:null,appApi:!0}),lt(y,o=>{be(f,`/contacts?page=${o}&q=${he(F.value)}`)});function I(){F.value=$t(C),Y()}function Y(){be(f,`/contacts?q=${he(F.value)}`)}nt(()=>{at.on("refetch_by_tag_type",o=>{o===V&&j()})});function W(o){let _="";fe(o.firstName)||fe(o.lastName)?_=`${o.lastName}${o.middleName}${o.firstName}`:_=[o.firstName,o.middleName,o.lastName].filter(oe=>oe).join(" ");const z=o.suffix?`, ${o.suffix}`:"",x=`${o.prefix} ${_} ${z}`.trim();return x||(o.emails.length?o.emails[0].value:"")}function l(o){le(_t,{id:o.id,name:W(o),gql:pt`
      mutation DeleteContact($id: ID!) {
        deleteContacts(ids: [$id])
      }
    `,appApi:!0,typeName:"Contact"})}function m(o){le($e,{data:o,sources:X,done:j})}function d(){le($e,{data:null,sources:X,done:j})}const ue=M(""),ce=M(0),{mutate:Ue,loading:Me}=ae({document:dt,appApi:!0});function Ae(o,_,z){ue.value=o,ce.value=z,Ue({number:_})}return(o,_)=>{const z=je,x=Oe,oe=Ke,Se=Qe,Fe=ze,Ie=Re,De=Ze;return s(),a(b,null,[e("div",zo,[k(z,{current:()=>`${o.$t("page_title.contacts")} (${w.value})`},null,8,["current"]),e("div",Ko,[e("button",{type:"button",class:"btn btn-action",onClick:d},n(o.$t("create")),1),k(x,{title:o.$t("actions"),items:R},null,8,["title"]),k(Se,{modelValue:F.value,"onUpdate:modelValue":_[2]||(_[2]=r=>F.value=r),search:Y},{filters:K(()=>[e("div",Oo,[e("label",jo,n(o.$t("keywords")),1),e("div",Eo,[v(e("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=r=>C.text=r),class:"form-control",onKeyup:Ce(I,["enter"])},null,40,Go),[[g,C.text]])])]),e("div",Ho,[e("label",Po,n(o.$t("tags")),1),e("div",Jo,[k(oe,{modelValue:C.tags,"onUpdate:modelValue":_[1]||(_[1]=r=>C.tags=r),label:"name","track-by":"id",options:p(U)},null,8,["modelValue","options"])])]),e("div",Xo,[e("button",{type:"button",class:"btn",onClick:P(I,["stop"])},n(o.$t("search")),9,Yo)])]),_:1},8,["modelValue"])])]),e("table",Wo,[e("thead",null,[e("tr",null,[e("th",null,[v(e("input",{class:"form-check-input",type:"checkbox",onChange:_[3]||(_[3]=(...r)=>p(t)&&p(t)(...r)),"onUpdate:modelValue":_[4]||(_[4]=r=>ke(O)?O.value=r:null)},null,544),[[ve,p(O)]])]),xo,e("th",null,n(o.$t("avatar")),1),e("th",null,n(o.$t("name")),1),e("th",null,n(o.$t("phone_number")),1),e("th",null,n(o.$t("content")),1),e("th",null,n(o.$t("notes")),1),e("th",null,n(o.$t("tags")),1),e("th",null,n(o.$t("updated_at")),1),e("th",es,n(o.$t("actions")),1)])]),e("tbody",null,[(s(!0),a(b,null,h(u.value,r=>(s(),a("tr",{key:r.id,class:G({checked:r.checked}),onClick:P(i=>r.checked=!r.checked,["stop"])},[e("td",null,[v(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":i=>r.checked=i},null,8,os),[[ve,r.checked]])]),e("td",null,[k(Fe,{id:r.id,raw:r},null,8,["id","raw"])]),e("td",null,[r.thumbnailId?(s(),a("img",{key:0,src:p(ut)(r.thumbnailId)},null,8,ss)):q("",!0)]),e("td",null,n(W(r)),1),e("td",ls,[e("ul",ns,[(s(!0),a(b,null,h(r.phoneNumbers,(i,se)=>(s(),a("li",{key:se},[ct(n(i.type>0?o.$t(`contact.phone_number_type.${i.type}`):i.label)+" "+n(i.normalizedNumber||i.value)+" ",1),p(Me)&&ue.value===r.id&&ce.value===se?(s(),a("i",as)):(s(),ee(Ie,{key:1,class:"bi bi-btn",onClick:P(bs=>Ae(r.id,i.normalizedNumber||i.value,se),["stop"])},null,8,["onClick"]))]))),128))])]),e("td",null,[e("ul",ds,[(s(!0),a(b,null,h(r.emails,i=>(s(),a("li",null,n(i.type>0?o.$t(`contact.email_type.${i.type}`):i.label)+" "+n(i.value),1))),256)),(s(!0),a(b,null,h(r.addresses,i=>(s(),a("li",null,n(i.type>0?o.$t(`contact.address_type.${i.type}`):i.label)+" "+n(i.value),1))),256)),(s(!0),a(b,null,h(r.websites,i=>(s(),a("li",null,n(i.type>0?o.$t(`contact.website_type.${i.type}`):i.label)+" "+n(i.value),1))),256)),(s(!0),a(b,null,h(r.ims,i=>(s(),a("li",null,n(i.type>0?o.$t(`contact.im_type.${i.type}`):i.label)+" "+n(i.value),1))),256)),(s(!0),a(b,null,h(r.events,i=>(s(),a("li",null,n(i.type>0?o.$t(`contact.event_type.${i.type}`):i.label)+" "+n(i.value),1))),256))])]),e("td",null,n(r.notes),1),e("td",null,[(s(!0),a(b,null,h(r.tags,i=>(s(),a("span",us,n(i.name),1))),256))]),e("td",{class:"nowrap",title:p(it)(r.updatedAt)},n(p(rt)(r.updatedAt)),9,cs),e("td",is,[e("a",{href:"#",class:"v-link",onClick:P(i=>m(r),["stop"])},n(o.$t("edit")),9,rs),e("a",{href:"#",class:"v-link",onClick:P(i=>l(r),["stop"])},n(o.$t("delete")),9,ps)])],10,ts))),128))]),u.value.length?q("",!0):(s(),a("tfoot",ms,[e("tr",null,[e("td",_s,[e("div",vs,n(o.$t(p(mt)(p(c),p(D).permissions,"READ_CONTACTS"))),1)])])]))]),w.value>S?(s(),ee(De,{key:0,modelValue:y.value,"onUpdate:modelValue":_[5]||(_[5]=r=>y.value=r),total:w.value,limit:S},null,8,["modelValue","total"])):q("",!0)],64)}}});export{As as default};
