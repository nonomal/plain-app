import{_ as V}from"./VModal.vuevuetypescriptsetuptruelang-3158168b.js";import{d as _,r as k,a0 as F,C as S,a1 as w,o as q,Q as x,v as p,J as c,b as u,N as C,L as M,g as e,K as B,f as m,a2 as D}from"./index-79f9263f.js";import{u as K,a as $}from"./vee-validate.esm-496cb60b.js";const E=["placeholder"],N=["disabled"],L=_({__name:"EditValueModal",props:{getVariables:{type:Function,required:!0},title:{type:String,required:!0},placeholder:{type:String},value:{type:String},mutation:{type:Function,required:!0},done:{type:Function}},setup(l){const s=l,{handleSubmit:v}=K(),d=k(),{mutate:f,loading:y,onDone:b}=s.mutation(),{value:a,resetField:g,errorMessage:r}=$("inputValue",F().required());a.value=s.value??"",a.value||g(),(async()=>{var t;await S(),(t=d.value)==null||t.focus()})();const i=v(()=>{f(s.getVariables(a.value??""))});return b(()=>{var t;(t=s.done)==null||t.call(this,a.value),w()}),(t,o)=>{const h=V;return q(),x(h,{title:l.title},{body:p(()=>[c(u("input",{ref_key:"input",ref:d,type:"text",placeholder:l.placeholder,class:"form-control","onUpdate:modelValue":o[0]||(o[0]=n=>C(a)?a.value=n:null),onKeyup:o[1]||(o[1]=M((...n)=>e(i)&&e(i)(...n),["enter"]))},null,40,E),[[B,e(a)]]),c(u("div",{class:"invalid-feedback"},m(e(r)?t.$t(e(r)):""),513),[[D,e(r)]])]),action:p(()=>[u("button",{type:"button",disabled:e(y),class:"btn",onClick:o[2]||(o[2]=(...n)=>e(i)&&e(i)(...n))},m(t.$t("save")),9,N)]),_:1},8,["title"])}}});export{L as _};
